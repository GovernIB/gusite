<!DOCTYPE html>
<!--
Descripción: 
Este código muestra la galería de fotos.

Variables: 
	MVS_micrositetitulo: devuelve el titulo del microsite en cuestión
	MVS_tipolistado: devuelve el tipo de listado que mostrará
	MVS_microsite: devuelve un microsite a partir de su clave unica 
	MVS_parametros_pagina: devuelve un listado de parametros de un Map<String, Integer>
	MVS_listado: devuelve un listado de elementos de una colección
	MVS_anchoFoto: devuelve el ancho de la foto
	
Objetos:
	#gusuri.archivopub(MVS_microsite,i.imagen): devuelve la URL hacia el archivo en cuestion
	-->
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorator="layout">
<head>
<!-- MVS_micrositetitulo: devuelve el titulo del microsite en cuestión
	MVS_tipolistado: devuelve el tipo de listado que mostrará -->
<title
	th:text="${MVS_micrositetitulo}+ ' - ' + ${MVS_tipolistado}">Microsite
	título - tipo listado</title>
<!-- Parte añadida para usar el layout decorator "<section>"-->
<section th:remove="tag" layout:fragment="scriptExtra">
	<div th:fragment="lightboxResources" th:remove="tag">
		<link href="resources/css/galeria_fotos.css" type="text/css"
			rel="stylesheet" />
		<script src="resources/lightbox/js/jquery-1.7.2.min.js"></script>
		<script src="resources/lightbox/js/lightbox.js"></script>
		<link href="resources/lightbox/css/lightbox.css" rel="stylesheet" />
	</div>
</section>
<!--  Este .css se usa para que en estático aparezca lo más parecido posible a la versión dinámica.
Al ejecutarse dinámicamente, se eliminará automáticamente el .css -->
<link rel="stylesheet" type="text/css" media="all"
	href="../resources/css/estils.css" th:href="@{../resources/css/estils.css}" th:remove="all"></link>
<!-- Parte añadida para usar el layout decorator "<section>"-->
<section th:remove="tag" layout:fragment="cssExtra">
<!-- css específico para esta página -->
<link rel="stylesheet" type="text/css" media="all"
	href="resources/css/estilsListarNoticias.css"
	th:href="@{/resources/css/estilsListarNoticias.css}"></link>
</section>
</head>
<body>
	<!-- Parte añadida para usar el layout decorator "<section>"-->
	<section th:remove="tag" layout:fragment="campanya">
		<div th:replace="general/inc_llistats_campana_menu :: campanaMenu">Listado
			campana Menu</div>
	</section>
	<!-- Parte añadida para usar el layout decorator "<section>"-->
	<!-- Parte añadida para usar el layout decorator "<section>"-->
	<section th:remove="tag" layout:fragment="content">
	<div class="col-md-12 column" th:remove="tag">
		<div th:fragment="GaleriaFotos" th:remove="tag">
			<!-- MVS_microsite: devuelve un microsite a partir de su clave unica -->
			<div th:id="(${MVS_microsite.tipomenu}=='0')==true ? 'infoNoMenu':'info'"
			id="" class="contenedorNoticiasListadas">
			<div
				th:replace="general/inc_llistats_capcelera_buscador :: capcelera_buscador">Listado
				cabecera buscador</div>
			<!-- MVS_parametros_pagina: devuelve un listado de parametros de un Map<String, Integer> -->
			<div th:if="${MVS_parametros_pagina.nreg}!=0" th:remove="tag">
				<div th:replace="general/inc_llistats_info_cursor :: infoCursor">Listado
					info cursor</div>
				<div id="noticiesLlistat">
					<ul id="Gallery" class="gallery">
						<!--div class="imageRow"-->
						<!-- MVS_listado: devuelve un listado de elementos de una colección -->
						<div th:each="i : ${MVS_listado}" th:remove="tag">
							<!-- REVISAR QUE "th:style=width:${MVS_anchoFoto}%" FUNCIONE BIEN-->
							<!--MVS_anchoFoto: devuelve el ancho de la foto  -->
							<li th:style="width:${MVS_anchoFoto}%">
								<div class="single">
									<div th:if="${i.imagen} !=null" th:remove="tag">
										<a rel="lightbox[fotos]" href="archivopub.html"
											th:href="@{${#gusuri.archivopub(MVS_microsite,i.imagen)}}"
											th:title="${i.traduce.titulo}"> 
											<!--MVS_anchoFoto: devuelve el ancho de la foto  -->
											<!--#gusuri.archivopub(MVS_microsite,i.imagen): devuelve la URL hacia el archivo en cuestion  -->
											<img
											th:style="height:${MVS_altoFoto}px" src="archivopub.html"
											th:src="@{${#gusuri.archivopub(MVS_microsite,i.imagen)}}" />											
										</a>
									</div>
									<div th:if="${i.imagen} ==null" th:remove="tag">
										<a rel="lightbox[fotos]"
											href="resources/imgs/noticies/news.gif"> 
											<!--MVS_anchoFoto: devuelve el ancho de la foto  -->
											<img
											th:style="height:${MVS_altoFoto}px"
											src="resources/imgs/noticies/news.gif" />
										</a>
									</div>
								</div>
							</li>
						</div>
					</ul>
				</div>
				<div th:replace="general/inc_llistats_paginacio :: paginacio">Listado
					paginación</div>
			</div>
			</div>
		</div>
		</div>
	</section>
	<!-- Parte añadida para usar el layout decorator "<section>"-->
</body>
</html>
