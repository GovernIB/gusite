<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 2.0//EN"
"http://hibernate.sourceforge.net/hibernate-mapping-2.0.dtd">

<hibernate-mapping>
    <class name="org.ibit.rol.sac.micromodel.ListaDistribucion" table="GUS_LDISTRIBUCION"
    		select-before-update="false">
        <id name="id" column="CODI" type="java.lang.Long">
			<generator class="sequence">
				<param name="sequence">GUS_LDISTRB_SEQ</param>
            </generator>
        </id>
        <property name="nombre" type="java.lang.String">
            <column name="NOMBRE" />
        </property>
        <property name="descripcion" type="java.lang.String">
            <column name="DESCRIPCION" />
        </property>
        <property name="publico" type="java.lang.Boolean">
            <column name="PUBLICO" />
        </property>
        <many-to-one name="microsite" column="MICROSITE_ID" class="org.ibit.rol.sac.micromodel.Microsite" not-null="false" foreign-key="GUS_LDISTRIB_MICROSITE_FK"/>        
        <set name="destinatarios" table="GUS_LDISTRIBUCION_CORREO" cascade="save-update">
			<key column="LISTADISTRIB_ID" foreign-key="GUS_LDISTRICORR_DISTRIB_FK"/>
			<many-to-many column="CORREO_ID" class="org.ibit.rol.sac.micromodel.Correo" foreign-key="GUS_LDISTRICORR_CORREO_FK"/>
		</set>
    </class>
</hibernate-mapping>
